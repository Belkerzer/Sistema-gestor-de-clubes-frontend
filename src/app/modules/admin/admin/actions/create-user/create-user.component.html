<div class="absolute inset-0 flex flex-col min-w-0 overflow-hidden">

    <mat-drawer-container class="flex-auto h-full">

        <!-- Drawer content -->
        <mat-drawer-content class="flex flex-col">

            <!-- Main -->
            <div class="flex-auto pt-6 px-6 sm:pt-10 sm:px-10">

                <!-- CONTENT GOES HERE -->
                <div class="w-full max-w-3xl">

                    <div class="flex items-center">
                        <!-- Sidebar toggle button -->
                        <div class="md:hidden -ml-2 mr-3">
                            <button
                                mat-icon-button
                                (click)="adminComponent.drawer.toggle()">
                                <mat-icon [svgIcon]="'heroicons_outline:menu'"></mat-icon>
                            </button>
                        </div>
                
                        <!-- Title -->
                        <div class="text-3xl font-extrabold tracking-tight">Crear Usuario</div>
                    </div>    
                
                    <!-- Form -->
                <form [formGroup]="accountForm">
                
                        <!-- Section -->
                        <div class="w-full mt-6">
                            <div class="text-xl">Perfil</div>
                            <div class="text-secondary">La siguiente información se muestra publicamente.</div>
                        </div>
                        <div class="grid sm:grid-cols-4 gap-6 w-full mt-8">
                    <!-- Avatar -->
                    <div class="sm:col-span-4">
                        <mat-label class="font-medium">Avatar de usuario</mat-label>
                        <div class="group relative flex items-center justify-center mt-2 w-32 h-32 rounded-full overflow-hidden ring-4 ring-bg-card">
                            <!-- Upload / Remove avatar -->
                            <div class="absolute inset-0 bg-black bg-opacity-50 z-10 invisible group-hover:visible"></div>
                            <div class="absolute inset-0 flex items-center justify-center z-20">
                                <div>
                                    <input
                                        id="avatar-file-input"
                                        class="absolute h-0 w-0 opacity-0 invisible pointer-events-none"
                                        type="file"
                                        [multiple]="false"
                                        [accept]="'image/jpeg, image/png'"
                                        (change)="uploadAvatar(avatarFileInput.files)"
                                        #avatarFileInput>
                                    <label
                                        class="flex items-center justify-center w-10 h-10 rounded-full cursor-pointer hover:bg-hover"
                                        for="avatar-file-input"
                                        matRipple>
                                        <mat-icon
                                            class="text-white invisible group-hover:visible"
                                            [svgIcon]="'heroicons_outline:camera'"></mat-icon>
                                    </label>
                                </div>
                                <div>
                                    <button
                                        class="hidden items-center justify-center w-10 h-10 rounded-full cursor-pointer hover:bg-hover"
                                        mat-icon-button
                                        >
                                        <mat-icon
                                            class="text-white hidden"
                                            [svgIcon]="'heroicons_outline:trash'"></mat-icon>
                                    </button>
                                </div>
                            </div>
                            <!-- Image/No image -->
                            <div class="flex-0 w-44 h-44 rounded-full overflow-hidden">
                            <img
                                class="object-cover w-full h-full"
                                *ngIf="user.avatar"
                                [src]="user.avatar">
                                <mat-icon       
                                    [inline]="true"                                                                    
                                    *ngIf="!user.avatar"
                                    [svgIcon]="'heroicons_outline:user-circle'">
                                </mat-icon>    
                            </div>                                                        
                        </div>
                    </div>
                            <!-- Name -->
                            <div class="sm:col-span-4">
                                <mat-form-field class="fuse-mat-no-subscript w-full">
                                    <mat-label>Nombre</mat-label>
                                    <mat-icon
                                        class="icon-size-5"
                                        [svgIcon]="'heroicons_solid:user'"
                                        matPrefix></mat-icon>
                                    <input
                                        [formControlName]="'name'"
                                        matInput>
                                </mat-form-field>
                            </div>
                            <!-- Username -->
                            <div class="sm:col-span-4">
                                <mat-form-field class="fuse-mat-no-subscript w-full">
                                    <mat-label>Nombre de usuario</mat-label>
                                    <mat-icon
                                    class="icon-size-5"
                                    [svgIcon]="'heroicons_solid:user-circle'"
                                    matPrefix></mat-icon>
                                    <input
                                        [formControlName]="'username'"
                                        matInput>                                        
                                </mat-form-field>
                            </div>                        
                        </div>    
                        <!-- Divider -->
                        <div class="my-10 border-t"></div>

                        <!-- Section -->
                        <div class="w-full">
                            <div class="text-xl">Información Personal</div>
                            <div class="text-secondary">Esto se mantendrá en privado.</div>
                        </div>
                        <div class="sm:col-span-4 mt-8">
                            <!-- Email -->
                            <div class="sm:col-span-2">
                                <mat-form-field class="fuse-mat-no-subscript w-full">
                                    <mat-label>Correo electrónico</mat-label>
                                    <mat-icon
                                        class="icon-size-5"
                                        [svgIcon]="'heroicons_solid:mail'"
                                        matPrefix></mat-icon>
                                    <input
                                        [formControlName]="'username'"
                                        matInput>
                                </mat-form-field>
                            </div>
                        </div>
                        <!-- Divider -->
                        <div class="my-10 border-t"></div>
                    <form [formGroup]="resetPasswordForm">
                        <!-- Section -->
                        <div class="w-full">
                            <div class="text-xl">Nueva contraseña</div>
                            <div class="text-secondary">Por razones de seguridad, la nueva contraseña debe cumplir los siguientes requisitos:</div>
                            <div class="mt-1 text-md text-hint">Mínimo 8 caracteres. Debe incluir números, letras y caracteres especiales.</div>
                        </div>
                        <div class="grid sm:grid-cols-4 gap-6 w-full mt-8">
                            <div class="sm:inline-flex">
                            <button                            
                            mat-stroked-button
                            type="button"
                            (click)="generatePassword()"
                            >
                            <mat-icon 
                                class="icon-size-5" 
                                svgIcon="heroicons_outline:light-bulb">
                            </mat-icon>
                            <span class="ml-2">Generar</span>
                        </button>
                    </div>
                            <!-- New password -->
                            <div class="sm:col-span-4">                                
                                    <mat-form-field class="fuse-mat-no-subscript w-full">
                                        <mat-label>Contraseña</mat-label>
                                        <mat-icon
                                            class="icon-size-5"
                                            [svgIcon]="'heroicons_solid:key'"
                                            matPrefix></mat-icon>
                                        <input
                                            id="password"
                                            [formControlName]="'password'"
                                            type="password"
                                            matInput
                                            #passwordField
                                            [formControl]="password">
                                            <button
                                                mat-icon-button
                                                type="button"
                                                (click)="passwordField.type === 'password' ? passwordField.type = 'text' : passwordField.type = 'password'"
                                                matSuffix>
                                                <mat-icon
                                                    class="icon-size-5"
                                                    *ngIf="passwordField.type === 'password'"
                                                    [svgIcon]="'heroicons_solid:eye'"></mat-icon>
                                                <mat-icon
                                                    class="icon-size-5"
                                                    *ngIf="passwordField.type === 'text'"
                                                    [svgIcon]="'heroicons_solid:eye-off'"></mat-icon>
                                            </button>
                                    </mat-form-field>
                            </div>
                            <!-- Confirm password -->
                            <div class="sm:col-span-4">
                                <mat-form-field class="fuse-mat-no-subscript w-full">
                                    <mat-label>Confirmar contraseña</mat-label>
                                    <mat-icon
                                        class="icon-size-5"
                                        [svgIcon]="'heroicons_solid:key'"
                                        matPrefix></mat-icon>
                                    <input
                                        id="password-confirm"
                                        [formControlName]="'passwordConfirm'"
                                        type="password"
                                        matInput
                                        #passwordConfirmField
                                        [formControl]="password">
                                        <button
                                            mat-icon-button
                                            type="button"
                                            (click)="passwordConfirmField.type === 'password' ? passwordConfirmField.type = 'text' : passwordConfirmField.type = 'password'"
                                            matSuffix>
                                            <mat-icon
                                                class="icon-size-5"
                                                *ngIf="passwordConfirmField.type === 'password'"
                                                [svgIcon]="'heroicons_solid:eye'"></mat-icon>
                                            <mat-icon
                                                class="icon-size-5"
                                                *ngIf="passwordConfirmField.type === 'text'"
                                                [svgIcon]="'heroicons_solid:eye-off'"></mat-icon>
                                    </button>
                                </mat-form-field>
                            </div>
                        </div>
                        <!-- Divider -->
                        <div class="my-10 border-t"></div>

                        <!-- Section -->
                        <div class="w-full">
                            <div class="text-xl">Permisos</div>
                            <div class="text-secondary">Seleccione un rol para el usuario.</div>
                        </div>
                        <div class="sm:col-span-4 mt-8">
                            <!-- Email -->
                            <div class="sm:col-span-2">
                                <mat-form-field class="fuse-mat-no-subscript w-full">
                                    <mat-label>Rol</mat-label>
                                    <mat-icon
                                        class="icon-size-5"
                                        [svgIcon]="'heroicons_solid:briefcase'"
                                        matPrefix></mat-icon>
                                        <mat-select                      
                                        disableOptionCentering
                                        #roleSelect="matSelect">
                                        <mat-select-trigger class="text-md">
                                            <span class="ml-1 font-medium">{{roleSelect.value | titlecase}}</span>
                                        </mat-select-trigger>
                                        <ng-container *ngFor="let role of roles">
                                            <mat-option
                                                class="h-auto py-4 leading-none"
                                                [value]="role.value">
                                                <div class="font-medium">{{role.label}}</div>
                                                <div class="mt-1.5 text-sm whitespace-normal leading-normal text-secondary">{{role.description}}</div>
                                            </mat-option>
                                        </ng-container>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                        </div>
                        <!-- Actions -->                                            
                        <div class="flex items-center justify-end mt-11 py-9 pl-1 sm:pl-7 border-t">
                            <button
                                mat-stroked-button
                                type="button">
                                Cancelar
                            </button>
                            <button
                                class="ml-4"
                                mat-flat-button
                                type="button"
                                [color]="'primary'">Crear
                            </button>
                        </div>
                    </form>
                </form>
                
                </div>
                

            </div>

        </mat-drawer-content>

    </mat-drawer-container>

</div>
